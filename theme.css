/* ========================================
OBSIDIAN THEME: Mocha Latte Cafe 003
AUTHOR: DA Rasmussen
LICENSE: CC0-1.0
VERSION: 003
======================================== */

/* ========================================
THEME VARIABLES (ESPRESSO - DARK MODE)
======================================== */
.theme-dark {
    /* Core Palette - Espresso */
    --espresso-base: #c98c68;        /* Rich coffee brown */
    --espresso-hover: #a16b4d;       /* Deeper roast */
    --espresso-active: #f5e8dc;      /* Cream highlight */
    --espresso-border: #3d281e;      /* Dark roast border */
    --espresso-deep: #1a120d;        /* Almost black */

    /* Backgrounds */
    --background-primary: #2e1f16;   /* Dark coffee */
    --background-primary-alt: #251810;
    --background-secondary: #1a120d; /* Espresso base */
    --background-secondary-alt: #221a14;
    --background-accent: var(--espresso-base);

    /* Modifiers */
    --background-modifier-cover: rgba(0, 0, 0, 0.90);
    --background-modifier-border: var(--espresso-border);
    --background-modifier-form-field: rgba(201, 140, 104, 0.20);
    --background-modifier-border-focus: var(--espresso-base);
    --background-modifier-border-hover: var(--espresso-hover);
    --background-modifier-hover: rgba(161, 107, 77, 0.30);

    /* Metadata */
    --metadata-label-text-color: #b8947d;
    --metadata-label-background: rgba(46, 31, 22, 0.90);
    --metadata-property-background: rgba(54, 36, 26, 0.45);

    /* Text Hierarchy */
    --text-normal: #e0d0c0;          /* Creamy text */
    --text-muted: #a88c75;
    --text-faint: #7a6555;
    --text-active: #f5e8dc;
    --text-selection: rgba(161, 107, 77, 0.85);
    --text-highlight-bg: rgba(245, 200, 150, 0.40);
    --text-highlight-bg-active: rgba(245, 160, 100, 0.55);
    --text-on-accent: #f5e8dc;
    --text-on-accent-inverted: var(--espresso-border);

    /* Links & Accents */
    --text-accent: var(--espresso-base);
    --text-accent-hover: var(--espresso-hover);

    /* Interactive Elements */
    --interactive-normal: var(--espresso-base);
    --interactive-hover: var(--espresso-hover);
    --interactive-accent: var(--espresso-border);
    --interactive-accent-hover: var(--espresso-hover);

    /* UI Components */
    --scrollbar-bg: #120d09;
    --scrollbar-thumb-bg: rgba(161, 107, 77, 0.55);
    --scrollbar-active-thumb-bg: var(--espresso-border);
    --icon-color-normal: var(--espresso-base);
    --icon-color-hover: var(--espresso-active);
    --nav-item-color: var(--espresso-base);
    --nav-item-color-hover: var(--espresso-hover);
    --nav-item-color-active: var(--espresso-active);
    --nav-item-color-background-hover: rgba(201, 140, 104, 0.18);
    --toggle-thumb-color: var(--espresso-base);
    --dropdown-background: var(--background-secondary);
    --status-bar-background: var(--background-secondary-alt);
    --search-icon-color: var(--espresso-base);
    --sync-avatar-color-current-user: var(--espresso-base);
}

/* ========================================
THEME VARIABLES (CAPPUCCINO - LIGHT MODE)
======================================== */
.theme-light {
    /* Core Palette - Cappuccino */
    --cappuccino-base: #9a7558;      /* Warm brown */
    --cappuccino-hover: #7d5e44;     /* Deeper tone */
    --cappuccino-active: #f0e8e0;    /* Off-white */
    --cappuccino-border: #6b5240;    /* Rich border */
    --cappuccino-foam: #e8d8c8;      /* Light foam */

    /* Backgrounds */
    --background-primary: #f5f0e8;   /* Creamy base */
    --background-primary-alt: #dfd6cd;
    --background-secondary: #e0d5c8; /* Cappuccino */
    --background-secondary-alt: #d8cdc0;
    --background-accent: var(--cappuccino-base);

    /* Modifiers */
    --background-modifier-border: #c8b8a8;
    --background-modifier-form-field: rgba(154, 117, 88, 0.12);
    --background-modifier-border-focus: var(--cappuccino-base);
    --background-modifier-hover: rgba(125, 94, 68, 0.08);

    /* Text Hierarchy */
    --text-normal: #382a20;          /* Dark roast */
    --text-muted: #6b5a4a;
    --text-faint: #9a8878;
    --text-active: #251a12;
    --text-selection: rgba(125, 94, 68, 0.22);
    --text-highlight-bg: rgba(255, 225, 180, 0.45);
    --text-highlight-bg-active: rgba(255, 190, 130, 0.55);
    --text-on-accent: #fff;
    --text-on-accent-inverted: var(--cappuccino-foam);

    /* Links & Accents */
    --text-accent: var(--cappuccino-border);
    --text-accent-hover: var(--cappuccino-base);

    /* Interactive Elements */
    --interactive-normal: var(--cappuccino-hover);
    --interactive-hover: var(--cappuccino-base);
    --interactive-accent: var(--cappuccino-border);
    --interactive-accent-hover: var(--cappuccino-hover);

    /* UI Components */
    --scrollbar-bg: rgba(0, 0, 0, 0.04);
    --scrollbar-thumb-bg: rgba(0, 0, 0, 0.18);
    --scrollbar-active-thumb-bg: rgba(0, 0, 0, 0.30);
    --icon-color-normal: var(--cappuccino-border);
    --icon-color-hover: var(--cappuccino-base);
    --nav-item-color: var(--cappuccino-border);
    --nav-item-color-hover: var(--cappuccino-hover);
    --nav-item-color-active: var(--cappuccino-active);
    --nav-item-color-background-hover: rgba(154, 117, 88, 0.09);
    --toggle-thumb-color: var(--cappuccino-active);
    --dropdown-background: var(--background-secondary);
    --status-bar-background: var(--background-secondary-alt);
    --search-icon-color: var(--cappuccino-border);
    --sync-avatar-color-current-user: var(--cappuccino-base);
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

:root {
    /* Font Stack */
    --default-font: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --font-monospace: "Source Code Pro", "Fira Code", Consolas, monospace;

    /* Typography from Style Settings */
    --font-size-normal: 16px;
    --font-size-code: 15px;
    --line-height-normal: 1.5;
}

/* ========================================
   SIDEBAR BACKGROUND - Base64 Image
   ======================================== */

.theme-light .mod-sidedock .nav-file-title,
.theme-light .mod-sidedock .nav-folder-title,
.theme-light .mod-sidedock .tree-item-self,
.theme-light .mod-sidedock .search-result-file-title,
.theme-light .mod-sidedock .search-result-file-match {
  color: var(--text-normal) !important; /* Ensures dark text on light backgrounds */
}

/* Active items in light mode */
.theme-light .mod-sidedock .nav-file-title.is-active,
.theme-light .mod-sidedock .nav-folder-title.is-active,
.theme-light .mod-sidedock .tree-item-self.is-active {
  color: var(--espresso-hover) !important; /* Keeps your accent color but ensures visibility */
}

body.sidebar-bg-toggle.theme-light .mod-sidedock .workspace-leaf-content {
  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjxzdmcgaGVpZ2h0PSI4MDBweCIgd2lkdGg9IjgwMHB4IiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiANCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggc3R5bGU9ImZpbGw6I0U4RDZCRDsiIGQ9Ik00OTIuOTM2LDQyMS45MzZsLTYuNDA1LDIyLjQxOWMtMi40NzMsOC42MzktMTEuODQxLDE1LjcwOS0yMC44MjksMTUuNzA5SDczLjUzMg0KCWMtOC45ODcsMC0xOC4zNTYtNy4wNy0yMC44MjktMTUuNzA5bC02LjQwNS0yMi40MTlINDkyLjkzNnoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiNDOEZFRkY7IiBkPSJNNDQzLjkxNSwxMzEuNzg0djg3LjE0OWMwLDk2LjI2Ny03OC4wNDIsMTc0LjI5OC0xNzQuMjk4LDE3NC4yOTgNCgljLTQ5Ljg0OSwwLTk0Ljc5Ni0yMC45MjctMTI2LjU2Mi01NC40NjhIOTUuMzE5Yy0yMy4yOCwwLTQ1LjE2NS05LjA2NC02MS42MjUtMjUuNTI0UzguMTcsMjc0Ljg5NCw4LjE3LDI1MS42MTQNCglzOS4wNjMtNDUuMTY1LDI1LjUyNC02MS42MjVzMzguMzQ2LTI1LjUyNCw2MS42MjUtMjUuNTI0di0zMi42ODFIMTI4djg3LjE0OWMwLDc4LjA4NSw2My41MzIsMTQxLjYxNywxNDEuNjE3LDE0MS42MTcNCglzMTQxLjYxNy02My41MzIsMTQxLjYxNy0xNDEuNjE3di04Ny4xNDlINDQzLjkxNXogTTk1LjMxOSwzMDYuMDgyaDIzLjMyM2MtMTQuODM3LTI1LjYzMy0yMy4zMjMtNTUuNDA1LTIzLjMyMy04Ny4xNDl2LTIxLjc4Nw0KCWMtMTQuNTU0LDAtMjguMjI1LDUuNjY1LTM4LjUyLDE1Ljk0OGMtMTAuMjg0LDEwLjI5NC0xNS45NDgsMjMuOTY2LTE1Ljk0OCwzOC41MmMwLDE0LjU1NCw1LjY2NSwyOC4yMjUsMTUuOTU5LDM4LjUyDQoJQzY3LjA5NCwzMDAuNDE4LDgwLjc2NSwzMDYuMDgyLDk1LjMxOSwzMDYuMDgyeiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0JEOUY3OTsiIGQ9Ik0zNDAuNDI2LDIzNC4xODRjMzUuNDA0LDAsMzUuNDA0LTE1LjI1MSw3MC44MDktMTUuMjUxYzAsNzguMDg1LTYzLjUzMiwxNDEuNjE3LTE0MS42MTcsMTQxLjYxNw0KCVMxMjgsMjk3LjAxOSwxMjgsMjE4LjkzM2MzNS40MDQsMCwzNS40MDQsMTUuMjUxLDcwLjgwOSwxNS4yNTFzMzUuNDA0LTE1LjI1MSw3MC43OTgtMTUuMjUxDQoJQzMwNS4wMjEsMjE4LjkzMywzMDUuMDIxLDIzNC4xODQsMzQwLjQyNiwyMzQuMTg0eiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0Y5RUJEQjsiIGQ9Ik00MTEuMjM0LDEzMS43ODR2ODcuMTQ5Yy0zNS40MDQsMC0zNS40MDQsMTUuMjUxLTcwLjgwOSwxNS4yNTFzLTM1LjQwNC0xNS4yNTEtNzAuODE5LTE1LjI1MQ0KCWMtMzUuMzkzLDAtMzUuMzkzLDE1LjI1MS03MC43OTgsMTUuMjUxUzE2My40MDQsMjE4LjkzMywxMjgsMjE4LjkzM3YtODcuMTQ5SDQxMS4yMzR6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTQxMS4yMzQsMTMxLjc4NEgxMjhjMC0yOS41NDMsMjMuOTU1LTUzLjQ5OSw1My40OTktNTMuNDk5YzEzLjk3NywwLDI2LjY4OSw1LjM2LDM2LjIyMSwxNC4xMjkNCgljNS44MTctMjMuMjQ3LDI2Ljg0Mi00MC40ODEsNTEuODk3LTQwLjQ4MXM0Ni4wOCwxNy4yMzQsNTEuODk3LDQwLjQ4MWM5LjUzMi04Ljc2OSwyMi4yNDUtMTQuMTI5LDM2LjIyMS0xNC4xMjkNCglDMzg3LjI3OSw3OC4yODYsNDExLjIzNCwxMDIuMjQxLDQxMS4yMzQsMTMxLjc4NHoiLz4NCjxnPg0KCTxwYXRoIHN0eWxlPSJmaWxsOiM3MDBEMDA7IiBkPSJNNTAzLjgzLDQxMy43NjZIMzUuNDA0Yy00LjUxMiwwLTguMTcsMy42NTctOC4xNyw4LjE3YzAsNC41MTMsMy42NTgsOC4xNyw4LjE3LDguMTdoNC43MzENCgkJbDQuNzExLDE2LjQ5MWMzLjQ2NiwxMi4xMzMsMTYuMDY2LDIxLjYzNywyOC42ODUsMjEuNjM3aDM5Mi4xN2MxMi42MTksMCwyNS4yMTktOS41MDUsMjguNjg1LTIxLjYzN2w0LjcxMi0xNi40OTFoNC43MzENCgkJYzQuNTEyLDAsOC4xNy0zLjY1Nyw4LjE3LTguMTdDNTEyLDQxNy40MjMsNTA4LjM0Miw0MTMuNzY2LDUwMy44Myw0MTMuNzY2eiBNNDc4LjY3NSw0NDIuMTA3DQoJCWMtMS40NjMsNS4xMjItNy42NDcsOS43ODYtMTIuOTczLDkuNzg2SDczLjUzMmMtNS4zMjcsMC0xMS41MS00LjY2NC0xMi45NzMtOS43ODZsLTMuNDI5LTEyLjAwMWg0MjQuOTc1TDQ3OC42NzUsNDQyLjEwN3oiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojNzAwRDAwOyIgZD0iTTk1LjMxOSwzMTQuMjUzaDIzLjMyMmMyLjkyMSwwLDUuNjE4LTEuNTU5LDcuMDc4LTQuMDg4czEuNDU4LTUuNjQ2LTAuMDA0LTguMTczDQoJCWMtMTQuNTQxLTI1LjEzNS0yMi4yMjYtNTMuODU2LTIyLjIyNi04My4wNTd2LTIxLjc4N2MwLTQuNTEzLTMuNjU4LTguMTctOC4xNy04LjE3Yy0xNi43MzIsMC0zMi40NjIsNi41MTUtNDQuMjkxLDE4LjM0Ng0KCQljLTExLjgzLDExLjgzLTE4LjM0NiwyNy41NjEtMTguMzQ2LDQ0LjI5MmMwLDE2LjczLDYuNTE1LDMyLjQ2MSwxOC4zNDcsNDQuMjkyQzYyLjg1OSwzMDcuNzM4LDc4LjU4OSwzMTQuMjUzLDk1LjMxOSwzMTQuMjUzeg0KCQkgTTYyLjU4MiwyMTguODc2YzYuNzg2LTYuNzg2LDE1LjMwOS0xMS4yMDYsMjQuNTY2LTEyLjg0NnYxMi45MDNjMCwyNy40MTYsNi4xNzMsNTQuNDU0LDE3Ljk0NSw3OC45NzloLTkuNzc0DQoJCWMtMTIuMzY2LDAtMjMuOTkyLTQuODE2LTMyLjczNy0xMy41NTljLTguNzQ0LTguNzQ1LTEzLjU2LTIwLjM3Mi0xMy41Ni0zMi43MzlDNDkuMDIxLDIzOS4yNDgsNTMuODM2LDIyNy42MjEsNjIuNTgyLDIxOC44NzZ6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGw6IzcwMEQwMDsiIGQ9Ik05NS4zMTksMzQ2LjkzM2g0NC4yNjNjMzQuNTY0LDM1LjE1NSw4MC42LDU0LjQ2OCwxMzAuMDM0LDU0LjQ2OA0KCQljMTAwLjYxMywwLDE4Mi40NjgtODEuODU2LDE4Mi40NjgtMTgyLjQ2OHYtODcuMTQ5YzAtNC41MTMtMy42NTgtOC4xNy04LjE3LTguMTdoLTI1LjA2OGMtNC4wMTEtMzAuMTU1LTI5Ljg3OC01My41LTYxLjExMi01My41DQoJCWMtMTEuNTA1LDAtMjIuNjMzLDMuMTgzLTMyLjI3LDkuMTE0Yy05Ljk4MS0yMS4zNS0zMS41MzQtMzUuNDYyLTU1Ljg0Ny0zNS40NjJjLTI0LjMxMywwLTQ1Ljg2NiwxNC4xMTItNTUuODQ3LDM1LjQ2Mg0KCQljLTkuNjM4LTUuOTMtMjAuNzY1LTkuMTE0LTMyLjI3LTkuMTE0Yy0zMS4yMzQsMC01Ny4xMDEsMjMuMzQ1LTYxLjExMiw1My41SDk1LjMxOGMtNC41MTIsMC04LjE3LDMuNjU3LTguMTcsOC4xN3YyNC44NTMNCgkJYy0yMi4zOCwxLjg4Ny00My4xNjgsMTEuNTExLTU5LjIzMSwyNy41NzVDOS45MTQsMjAyLjIxNiwwLDIyNi4xNTQsMCwyNTEuNjE0czkuOTE1LDQ5LjM5NywyNy45MTgsNjcuNDAxDQoJCUM0NS45MjMsMzM3LjAxOSw2OS44NiwzNDYuOTMzLDk1LjMxOSwzNDYuOTMzeiBNNDAzLjA2MywyMTEuMDU4Yy0xNC4yNiwxLjAzNS0yMi44MDgsNC42OTctMzAuNDY3LDcuOTk3DQoJCWMtOC42NjksMy43MzQtMTYuMTU1LDYuOTU5LTMyLjE3Myw2Ljk1OWMtMTYuMDE4LDAtMjMuNTA0LTMuMjI1LTMyLjE3My02Ljk1OWMtOS4wMjMtMy44ODctMTkuMjUtOC4yOTItMzguNjM3LTguMjkyDQoJCWMtMTkuMzg2LDAtMjkuNjEzLDQuNDA1LTM4LjYzNiw4LjI5MmMtOC42NjgsMy43MzQtMTYuMTU0LDYuOTU5LTMyLjE3MSw2Ljk1OXMtMjMuNTAyLTMuMjI1LTMyLjE3LTYuOTU5DQoJCWMtNy42NTgtMy4zLTE2LjIwNi02Ljk2Mi0zMC40NjUtNy45OTd2LTcxLjEwNGgyNjYuODk0TDQwMy4wNjMsMjExLjA1OEw0MDMuMDYzLDIxMS4wNTh6IE0xODEuNDk5LDg2LjQ1NQ0KCQljMTEuNCwwLDIyLjI5OCw0LjI1MywzMC42ODYsMTEuOTc1YzIuMTIyLDEuOTU0LDUuMTE5LDIuNjQ0LDcuODc2LDEuODE2YzIuNzYzLTAuODI3LDQuODg0LTMuMDQ4LDUuNTgzLTUuODQ0DQoJCWM1LjA0OS0yMC4xOTIsMjMuMTMtMzQuMjk0LDQzLjk3MS0zNC4yOTRzMzguOTIyLDE0LjEwMiw0My45NzEsMzQuMjk0YzAuNjk5LDIuNzk2LDIuODIxLDUuMDE4LDUuNTgzLDUuODQ0DQoJCWMyLjc2MiwwLjgyNiw1Ljc1NSwwLjEzNiw3Ljg3Ni0xLjgxNmM4LjM4OC03LjcyMiwxOS4yODYtMTEuOTc1LDMwLjY4Ni0xMS45NzVjMjIuMjA0LDAsNDAuNzE4LDE2LjA1Myw0NC41NzgsMzcuMTU5aC0yNjUuMzkNCgkJQzE0MC43OCwxMDIuNTA4LDE1OS4yOTQsODYuNDU1LDE4MS40OTksODYuNDU1eiBNMzkuNDcyLDE5NS43NjdjMTQuOTE2LTE0LjkxNywzNC43NDgtMjMuMTMyLDU1Ljg0Ni0yMy4xMzINCgkJYzQuNTEyLDAsOC4xNy0zLjY1Nyw4LjE3LTguMTd2LTI0LjUxMWgxNi4zNHY3OC45NzljMCw4Mi41OTIsNjcuMTk0LDE0OS43ODcsMTQ5Ljc4NywxNDkuNzg3DQoJCWMzNC4wODYsMCw2Ni4yMjctMTEuMjA2LDkyLjk0OS0zMi40MDljMy41MzUtMi44MDQsNC4xMjYtNy45NDQsMS4zMjItMTEuNDc5Yy0yLjgwNS0zLjUzNi03Ljk0NS00LjEyNS0xMS40NzktMS4zMjENCgkJYy0yMy44MDMsMTguODg1LTUyLjQzMSwyOC44NjgtODIuNzkyLDI4Ljg2OGMtNzAuNzIsMC0xMjguNzU3LTU1LjI5OS0xMzMuMTY3LTEyNC45MjdjMTAuNTE5LDAuOTI4LDE2Ljc0LDMuNjAxLDIzLjcyLDYuNjA4DQoJCWM5LjAyMiwzLjg4NywxOS4yNDksOC4yOTIsMzguNjM1LDguMjkyczI5LjYxMy00LjQwNSwzOC42MzYtOC4yOTJjOC42NjgtMy43MzQsMTYuMTU0LTYuOTU5LDMyLjE3MS02Ljk1OQ0KCQljMTYuMDE4LDAsMjMuNTA0LDMuMjI1LDMyLjE3Myw2Ljk1OWM5LjAyMywzLjg4NywxOS4yNSw4LjI5MiwzOC42MzcsOC4yOTJjMTkuMzg3LDAsMjkuNjE0LTQuNDA1LDM4LjYzNy04LjI5Mg0KCQljNi45NzctMy4wMDYsMTMuMTk4LTUuNjc4LDIzLjcwOS02LjYwN2MtMS42OTQsMjcuMTgxLTExLjQ2OCw1Mi43MDktMjguNTc1LDc0LjI3MWMtMi44MDQsMy41MzQtMi4yMTIsOC42NzMsMS4zMjIsMTEuNDc4DQoJCWMzLjUzNSwyLjgwNiw4LjY3MywyLjIxMiwxMS40NzktMS4zMjJjMjEuMjAxLTI2LjcyMSwzMi40MDktNTguODYxLDMyLjQwOS05Mi45NDh2LTc4Ljk3OWgxNi4zNHY3OC45NzkNCgkJYzAsOTEuNjAzLTc0LjUyNCwxNjYuMTI4LTE2Ni4xMjgsMTY2LjEyOGMtNDYuMDgzLDAtODguOTI1LTE4LjQzNy0xMjAuNjMzLTUxLjkxNmMtMS41NDQtMS42My0zLjY4Ny0yLjU1Mi01LjkzMi0yLjU1Mkg5NS4zMTkNCgkJYy0yMS4wOTQsMC00MC45MjgtOC4yMTUtNTUuODQ2LTIzLjEzM2MtMTQuOTE3LTE0LjkxNy0yMy4xMzMtMzQuNzUtMjMuMTMzLTU1Ljg0NUMxNi4zNCwyMzAuNTE4LDI0LjU1NSwyMTAuNjg1LDM5LjQ3MiwxOTUuNzY3eiINCgkJLz4NCjwvZz4NCjwvc3ZnPg==");
  background-size: cover;        /* or 'contain', 'repeat' */
  background-position: center;   /* adjust as needed */
  background-repeat: no-repeat; /* or 'repeat' for patterns */
  background-attachment: local;  /* scrolls with content */
  position: relative;           /* required for overlay */
  filter: brightness(1.1) contrast(0.8) saturate(0.5);
  background-blend-mode: multiply;
  background-color: var(--espresso-base);
}

/* light overlay for readability */
body.sidebar-bg-toggle.theme-light .mod-sidedock .workspace-leaf-content::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(250, 235, 225, 0.76); /* light mode */
  pointer-events: none;
  z-index: 0;
}

body.sidebar-bg-toggle.theme-dark .mod-sidedock .workspace-leaf-content {
  background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgDQoJIHZpZXdCb3g9IjAgMCA1MTEuOTk5IDUxMS45OTkiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHJlY3QgeD0iMTY1LjY0OSIgeT0iNDQ4LjczOCIgc3R5bGU9ImZpbGw6I0FGQjZCQjsiIHdpZHRoPSIxMjAuNDY5IiBoZWlnaHQ9IjM2LjEzOSIvPg0KPHBvbHlnb24gc3R5bGU9ImZpbGw6IzU5NUU2MjsiIHBvaW50cz0iNDQyLjcxOCw0MDYuNTcyIDQ0Mi43MTgsNDQ4LjczNSAyODYuMTE1LDQ0OC43MzUgMTY1LjY1Myw0NDguNzM1IDkuMDUxLDQ0OC43MzUgDQoJOS4wNTEsNDA2LjU3MiA5My4zNzUsNDA2LjU3MiAzNTguMzkzLDQwNi41NzIgIi8+DQo8cGF0aCBzdHlsZT0iZmlsbDojQUZCNkJCOyIgZD0iTTUwMi45NDgsMTExLjQzOGMwLDYuMDIzLDAsMTg2LjcxOCwwLDE4Ni43MThoLTk2LjM3di00Mi4xNjJoNDguMTg1YzAsMCwwLTk2Ljk3MiwwLTEwMi43NTUNCgljMC01LjY2Mi00LjMzNy01LjY2Mi00LjMzNy01LjY2MmgtNDMuODQ4di00Mi4xNjFoOTAuMzQ3QzQ5Ni45MjUsMTA1LjQxNSw1MDIuOTQ4LDEwNS40MTUsNTAyLjk0OCwxMTEuNDM4eiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzU1MzMyMzsiIGQ9Ik0zNTguMzkzLDM2NC40MTFjMCwwLTI1OC45OTUsMC0yNjUuMDE5LDBjLTYuMDIzLDAtNi4wMjMtNi4wMjMtNi4wMjMtNi4wMjNWMjI1Ljg3OA0KCWM0Ni4xMzcsMCw0Ni4xMzcsMjQuMDkzLDkyLjI3NSwyNC4wOTNjNDYuMjU4LDAsNDYuMjU4LTI0LjA5Myw5Mi4zOTUtMjQuMDkzYzQ2LjI1OCwwLDQ2LjI1OCwyNC4wOTMsOTIuMzk1LDI0LjA5M3YxMDguNDE3DQoJQzM2NC40MTYsMzY0LjQxMSwzNTguMzkzLDM2NC40MTEsMzU4LjM5MywzNjQuNDExeiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6I0EyNjIzNDsiIGQ9Ik0yNzIuMDIyLDIyNS44NzhjLTQ2LjEzNywwLTQ2LjEzNywyNC4wOTMtOTIuMzk1LDI0LjA5M2MtNDYuMTM3LDAtNDYuMTM3LTI0LjA5My05Mi4yNzUtMjQuMDkzDQoJdjYwLjIzMmM0Ni4xMzcsMCw0Ni4xMzcsMjQuMDkzLDkyLjI3NSwyNC4wOTNjNDYuMjU4LDAsNDYuMjU4LTI0LjA5Myw5Mi4zOTUtMjQuMDkzYzQ2LjI1OCwwLDQ2LjI1OCwyNC4wOTMsOTIuMzk1LDI0LjA5M1YyNDkuOTcNCglDMzE4LjI3OSwyNDkuOTcxLDMxOC4yNzksMjI1Ljg3OCwyNzIuMDIyLDIyNS44Nzh6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojQjI5ODc1OyIgZD0iTTM2NC40MTYsMjQ5Ljk3MWMtNDYuMTM3LDAtNDYuMTM3LTI0LjA5My05Mi4zOTUtMjQuMDkzYy00Ni4xMzcsMC00Ni4xMzcsMjQuMDkzLTkyLjM5NSwyNC4wOTMNCgljLTQ2LjEzNywwLTQ2LjEzNy0yNC4wOTMtOTIuMjc0LTI0LjA5M3YtMzYuMTM4di0zNi4xMzljNDYuMTM3LDAsNDYuMTM3LDI0LjA5Myw5Mi4yNzQsMjQuMDkzDQoJYzQ2LjI1OCwwLDQ2LjI1OC0yNC4wOTMsOTIuMzk1LTI0LjA5M2M0Ni4yNTgsMCw0Ni4yNTgsMjQuMDkzLDkyLjM5NSwyNC4wOTNWMjQ5Ljk3MXoiLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiNFREM5OTk7IiBkPSJNMzY0LjQxNiwxMDUuNDE1djcyLjI3OGMtNDYuMTM3LDAtNDYuMTM3LTI0LjA5My05Mi4zOTUtMjQuMDkzDQoJYy00Ni4xMzcsMC00Ni4xMzcsMjQuMDkzLTkyLjM5NSwyNC4wOTNjLTQ2LjEzNywwLTQ2LjEzNy0yNC4wOTMtOTIuMjc0LTI0LjA5M3YtNDguMTg1SDM2NC40MTZ6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojRTdFQ0VEOyIgZD0iTTg3LjM1MSwyMjUuODc4djEzMi41MWMwLDAsMCw2LjAyMyw2LjAyMyw2LjAyM2M2LjAyMywwLDI2NS4wMTksMCwyNjUuMDE5LDBzNi4wMjMsMCw2LjAyMy02LjAyMw0KCVYyNDkuOTd2LTcyLjI3OHYtNzIuMjc4aDQyLjE2MnY0Mi4xNjJ2MTA4LjQxN3Y0Mi4xNjJ2NjAuMjMyYzAsMjYuNjIyLTIxLjU2Myw0OC4xODUtNDguMTg1LDQ4LjE4NUg5My4zNzUNCgljLTI2LjYyMiwwLTQ4LjE4NS0yMS41NjMtNDguMTg1LTQ4LjE4NVYxMDUuNDE1aDQyLjE2MlYxNTMuNnY3Mi4yNzhIODcuMzUxeiIvPg0KPGc+DQoJPHJlY3QgeD0iMTQxLjU2MyIgeT0iMjgzLjA3NyIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIyNC4wOTMiIGhlaWdodD0iMTguMTAxIi8+DQoJPHJlY3QgeD0iMTE3LjQ2NCIgeT0iMzE5LjIxOSIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIyNC4wOTMiIGhlaWdodD0iMTguMTAxIi8+DQoJPHJlY3QgeD0iMTc3LjY5MiIgeT0iMzA3LjE3NiIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIyNC4wOTMiIGhlaWdodD0iMTguMTAxIi8+DQoJPHJlY3QgeD0iMzEwLjIwNCIgeT0iMjcxLjAzNCIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIyNC4wOTMiIGhlaWdodD0iMTguMTAxIi8+DQoJPHJlY3QgeD0iMjYyLjAxOSIgeT0iMjk1LjEzMiIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIHdpZHRoPSIyNC4wOTMiIGhlaWdodD0iMTguMTAxIi8+DQo8L2c+DQo8cGF0aCBzdHlsZT0iZmlsbDojQTI2MjM0OyIgZD0iTTM2MS4yODQsMTA1Ljc3N0g4Ny4zNTFjMjEuOTI0LTUzLjAwNCw4NC42ODUtMjYuNzQzLDEzMi41MS02Ni4yNTUNCglDMjYzLjU4OSwzLjM4MywzMzkuMzYsNTIuNzczLDM2MS4yODQsMTA1Ljc3N3oiLz4NCjxwYXRoIGQ9Ik00MTUuNjI5LDMwNy4yMDZoOTYuMzdWMTExLjQzOWMwLTkuNzktNy43NjctMTUuMDczLTE1LjA3NS0xNS4wNzNIMzY2Ljk2MkMzNDkuODk2LDYxLjA5MywzMTIuNzYsMjkuODUsMjc2LjI4LDIwLjc2OQ0KCWMtMjQuMTAxLTYuMDA0LTQ1LjYwNC0xLjkyNy02Mi4xODQsMTEuNzc3bDAuMDAxLTAuMDAxYy0xOS4yOTMsMTUuOTQtNDEuNTY0LDIwLjI1LTYzLjEwMiwyNC40Mg0KCWMtMjYuNzE1LDUuMTctNTQuMjgzLDEwLjUwOS02OS4yNDUsMzkuNEgzNi4xMzl2MjYyLjAyM2MwLDE1LjEyNiw1LjkwOCwyOC44OTEsMTUuNTI2LDM5LjEzNUgwdjYwLjI2M2gxNTYuNjAydjM2LjEzOGgxMzguNTY0DQoJdi0zNi4xMzhoMTU2LjYwMnYtNjAuMjYzaC01MS42NjRjOS42MTYtMTAuMjQ0LDE1LjUyNi0yNC4wMDgsMTUuNTI2LTM5LjEzNXYtNTEuMTgxSDQxNS42Mjl6IE00OTMuODk5LDExNC40Njd2MTc0LjYzOUg0MTUuNjMNCgl2LTI0LjA2aDQ4LjE4NVYxNTMuMjRjMC05LjU1Ni02Ljg5OC0xNC43MTEtMTMuMzg4LTE0LjcxMUg0MTUuNjN2LTI0LjA2Mkg0OTMuODk5eiBNNDE1LjYyOSwyNDYuOTQ0di05MC4zMTZoMzAuMDg0djkwLjMxNkg0MTUuNjI5DQoJeiBNOTYuNDAyLDIzNS4zMDZjMTQuODksMS4yNjYsMjMuMzU5LDUuNjYxLDMyLjg5OCwxMC42NDJjMTEuNzM2LDYuMTI4LDI1LjAzNywxMy4wNzQsNTAuMzI3LDEzLjA3NA0KCWMyNS4zNjIsMCwzOC42OTItNi45NTEsNTAuNDUtMTMuMDgzYzExLjMyOC01LjkwOCwyMS4xMDktMTEuMDA5LDQxLjk0NS0xMS4wMDljMjAuOTI2LDAsMzAuNzMsNS4xMTIsNDIuMDgsMTEuMDMzDQoJYzEwLjI1MSw1LjM0NSwyMS42OTgsMTEuMzEzLDQxLjI2NCwxMi43NDF2OTYuNjU5SDk2LjQwMlYyMzUuMzA2eiBNMzU1LjM2NSwyNDAuNTQ0Yy0xNC44OC0xLjI2NS0yMy4zNTMtNS42NTYtMzIuODk1LTEwLjYzMw0KCWMtMTEuNzYtNi4xMzMtMjUuMDg4LTEzLjA4My01MC40NS0xMy4wODNjLTI1LjI3MiwwLTM4LjU3Niw2LjkzOS01MC4zMTUsMTMuMDU5Yy0xMS4zNTEsNS45Mi0yMS4xNTQsMTEuMDMzLTQyLjA4LDExLjAzMw0KCWMtMjAuODQ4LDAtMzAuNjI2LTUuMTA2LTQxLjk0Ny0xMS4wMTljLTEwLjI1LTUuMzUyLTIxLjY5NS0xMS4zMjYtNDEuMjc3LTEyLjc1NHYtNTQuMTJjMTQuODksMS4yNjYsMjMuMzU5LDUuNjYxLDMyLjg5OCwxMC42NDINCgljMTEuNzM2LDYuMTI4LDI1LjAzNywxMy4wNzQsNTAuMzI3LDEzLjA3NGMyNS4zNjIsMCwzOC42OTItNi45NTEsNTAuNDUtMTMuMDgzYzExLjMyOC01LjkwOCwyMS4xMDktMTEuMDA5LDQxLjk0NS0xMS4wMDkNCgljMjAuOTI2LDAsMzAuNzMsNS4xMTIsNDIuMDgsMTEuMDMzYzEwLjI1MSw1LjM0NSwyMS42OTgsMTEuMzEzLDQxLjI2NCwxMi43NDF2NTQuMTE5SDM1NS4zNjV6IE0zNTUuMzY1LDE2OC4yNjUNCgljLTE0Ljg4LTEuMjY1LTIzLjM1My01LjY1Ni0zMi44OTUtMTAuNjMzYy0xMS43Ni02LjEzMy0yNS4wODgtMTMuMDgzLTUwLjQ1LTEzLjA4M2MtMjUuMjcyLDAtMzguNTc2LDYuOTM5LTUwLjMxNSwxMy4wNTkNCgljLTExLjM1MSw1LjkyLTIxLjE1NCwxMS4wMzMtNDIuMDgsMTEuMDMzYy0yMC44NDgsMC0zMC42MjYtNS4xMDYtNDEuOTQ3LTExLjAxOWMtMTAuMjUtNS4zNTItMjEuNjk1LTExLjMyNi00MS4yNzctMTIuNzU0di0zMC4wNDMNCgloMjU4Ljk2NFYxNjguMjY1eiBNMTU0LjQzNSw3NC43MzZjMjIuNjU4LTQuMzg2LDQ4LjM0LTkuMzU3LDcxLjE5LTI4LjIzNWwwLjAwMS0wLjAwMWMxNS4xMjktMTIuNTA0LDMzLjUxNy0xMS4zNDMsNDYuMjgyLTguMTY1DQoJYzI4LjQyNyw3LjA3Niw1OC4zMzMsMzAuODU5LDc0LjUxMyw1OC4wMzFoLTI0My4wN0MxMTUuMDAzLDgyLjM4NCwxMzIuOTExLDc4LjksMTU0LjQzNSw3NC43MzZ6IE0yNzcuMDY1LDQ3NS44MjNIMTc0LjcwM3YtMTguMDM3DQoJaDEwMi4zNjJWNDc1LjgyM3ogTTQzMy42NjcsNDM5LjY4NUgxOC4xMDF2LTI0LjA2MWg0MTUuNTY2VjQzOS42ODV6IE05My4zNzUsMzk3LjUyMmMtMjEuNTc5LDAtMzkuMTM1LTE3LjU1Ni0zOS4xMzUtMzkuMTM1DQoJVjExNC40NjdsMjQuMDYsMC4zNjF2MjQzLjU2MWMwLDcuMzA4LDUuMjgzLDE1LjA3MywxNS4wNzUsMTUuMDczaDI2NS4wMThjNy4zMDgsMCwxNS4wNzMtNS4yODMsMTUuMDczLTE1LjA3M1YxMTQuODI2bDI0LjA2MS0wLjM2MQ0KCXYyNDMuOTIyYzAsMjEuNTc5LTE3LjU1NiwzOS4xMzUtMzkuMTM1LDM5LjEzNUw5My4zNzUsMzk3LjUyMkw5My4zNzUsMzk3LjUyMnoiLz4NCjwvc3ZnPg==");
  background-size: cover;        /* or 'contain', 'repeat' */
  background-position: center;   /* adjust as needed */
  background-repeat: no-repeat; /* or 'repeat' for patterns */
  background-attachment: local;  /* scrolls with content */
  position: relative;           /* required for overlay */
  filter: brightness(0.9) contrast(1.0) saturate(1.3);
  background-blend-mode: multiply;
  background-color: var(--espresso-base);
}

/* Dark overlay for readability */
body.sidebar-bg-toggle.theme-dark .mod-sidedock .workspace-leaf-content::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.705); /* Dark mode */
  pointer-events: none;
  z-index: 0;
}

/* Keep content above overlay */
.mod-sidedock .workspace-leaf-content > * {
  position: relative;
  z-index: 1;
}

/* ========================================
LIGHT MODE BUTTON FIX - All Buttons Brown with White Text
======================================== */

/* Regular Buttons */
.theme-light button:not(.mod-cta, .mod-warning, .clickable-icon, .setting-editor-extra-setting-button, .workspace-tab-header-inner-close-button) {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

/* Hover State */
.theme-light button:not(.mod-cta, .mod-warning, .clickable-icon):hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Settings Modal Buttons */
.theme-light .modal button,
.theme-light .modal .button,
.theme-light .modal .community-plugin-button,
.theme-light .modal .community-theme-button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

/* Settings Item Control Buttons */
.theme-light .setting-item-control button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

.theme-light .setting-item-control button:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Dropdown Buttons */
.theme-light .dropdown {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    text-align: center ;
}

.theme-light .dropdown:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Community Plugin/Theme Install Buttons */
.theme-light .community-plugin-button,
.theme-light .community-theme-button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

.theme-light .community-plugin-button:hover,
.theme-light .community-theme-button:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* CTA Buttons (should still be readable) */
.theme-light button.mod-cta {
    background-color: var(--cappuccino-hover) ;
    color: white ;
    font-weight: bold ;
}

.theme-light button.mod-cta:hover {
    background-color: var(--cappuccino-base) ;
    color: white ;
}

/* Warning Buttons - keep red but ensure white text */
.theme-light button.mod-warning {
    background-color: #c44536 ;
    color: white ;
    font-weight: bold ;
}

/* Fix for Smalltalk/Dialog Buttons */
.theme-light .smalltalk button,
.theme-light .modal button:not(.mod-cta):not(.mod-warning) {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

.theme-light .smalltalk button:hover,
.theme-light .modal button:not(.mod-cta):not(.mod-warning):hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Fix for Plugin Buttons in Settings */
.theme-light .community-item-button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
    font-weight: bold ;
}

.theme-light .community-item-button:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Fix for Copy Code Buttons */
.theme-light .copy-code-button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
}

.theme-light .copy-code-button:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* Ensure Focus States are Visible */
.theme-light button:focus-visible,
.theme-light input:focus-visible,
.theme-light textarea:focus-visible,
.theme-light select:focus-visible {
    outline: 2px solid var(--cappuccino-base) ;
    outline-offset: 2px ;
}

/* Fix for File Explorer Action Buttons */
.theme-light .nav-action-button {
    background-color: var(--cappuccino-base) ;
    color: white ;
    border-color: var(--cappuccino-border) ;
}

.theme-light .nav-action-button:hover {
    background-color: var(--cappuccino-hover) ;
    color: white ;
}

/* ========================================
APPLICATION SHELL
======================================== */
/* Startup Progress */
.progress-bar .progress-bar-line {
    background-color: var(--background-secondary);
}
.progress-bar .progress-bar-subline {
    background-color: var(--espresso-base);
}

/* Modals & Overlays */
.modal, .prompt, .menu, .tooltip {
    background-color: var(--background-primary);
    border-color: var(--background-modifier-border);
    color: var(--text-normal);
}
.tooltip {
    --element-selector-highlight-outline: 1px dashed var(--interactive-accent);
    --element-selector-highlight-background-color: rgba(201, 140, 104, 0.25);
    --element-selector-tooltip-background-color: var(--background-primary);
    --element-selector-tooltip-border: 1px solid var(--background-modifier-border);
    --element-selector-tooltip-border-radius: 6px;
    --element-selector-tooltip-padding: 1em;
}

/* Notifications */
.notice {
    background-color: var(--background-modifier-cover);
    color: var(--text-normal);
    border-left: 3px solid var(--espresso-base);
}

/* ========================================
WORKSPACE LAYOUT
======================================== */
/* Title Bar */
.titlebar-text,
.titlebar-button.mod-logo {
    color: var(--espresso-base);
    opacity: 1;
}
.titlebar-button {
    color: var(--icon-color-normal);
}

/* Ribbons */
.workspace-ribbon {
    background-color: var(--background-secondary);
    color: var(--espresso-border);
}

/* Side Panels */
.mod-right-split {
    background-color: var(--background-secondary);
    border-left: 1px solid var(--background-modifier-border);
}
.workspace-tabs {
    border-bottom: 1px solid var(--espresso-base);
    color: var(--espresso-base);
}
.workspace-tab-header-inner-icon {
    color: var(--icon-color-normal);
}

/* Status Bar */
.status-bar {
    background-color: var(--status-bar-background);
    color: var(--text-muted);
}
.mod-clickable.status-bar-item:hover {
    background-color: var(--interactive-hover);
}

/* ========================================
FILE EXPLORER & NAVIGATION
======================================== */
.nav-file-title, .nav-folder-title {
    color: var(--nav-item-color);
}
.nav-file-title:hover, .nav-folder-title:hover {
    background-color: var(--nav-item-color-background-hover);
    color: var(--nav-item-color-hover);
}
.nav-file-title.is-active, .nav-folder-title.is-active {
    color: var(--nav-item-color-active);
    background-color: rgba(161, 107, 77, 0.22);
}
.workspace-leaf.mod-active .view-header-title {
    color: var(--text-active);
    border-bottom: 2px solid var(--interactive-accent);
}

/* ========================================
NOTE CONTENT AREA
======================================== */
/* Base Views */
.markdown-source-view,
.cm-s-obsidian {
    color: var(--text-normal);
}

/* Headers */
h1, h2, h3, h4, h5, h6,
.cm-header-1, .cm-header-2, .cm-header-3,
.cm-header-4, .cm-header-5, .cm-header-6 {
    color: var(--text-normal);
    font-weight: 600;
}

/* Emphasis */
strong, .cm-strong {
    font-weight: 700;
    color: var(--text-normal);
}
em, .cm-em {
    font-style: italic;
}
mark, .cm-highlight {
    background-color: var(--text-highlight-bg);
    color: var(--text-normal);
}
del, .cm-strikethrough {
    text-decoration-color: var(--text-faint);
    opacity: 0.85;
}

/* Links */
a.internal-link,
a.external-link,
.cm-hmd-internal-link {
    color: var(--text-accent);
}
a.internal-link:hover,
a.external-link:hover {
    color: var(--text-accent-hover);
}
a.internal-link.is-unresolved {
    color: var(--text-faint);
    opacity: 0.7;
}

/* Code */
code, .cm-inline-code {
    background-color: var(--background-modifier-form-field);
    color: var(--text-normal);
    font-family: var(--font-monospace);
}
pre, .HyperMD-codeblock {
    background-color: var(--background-secondary-alt);
    border-left: 3px solid var(--espresso-border);
    padding: 1em;
}

/* Blockquotes & Tables */
blockquote, .HyperMD-quote {
    border-left: 3px solid var(--espresso-border);
    background-color: var(--background-modifier-hover);
    color: var(--text-muted);
}
table {
    border-color: var(--background-modifier-border);
}
th, td {
    border-color: var(--background-modifier-border);
    color: var(--text-normal);
}

/* Lists & Checkboxes */
li.task-list-item {
    margin-block: 0.25em;
}
input[type="checkbox"] {
    border-color: var(--espresso-border);
    background-color: var(--background-secondary);
}
input[type="checkbox"]:checked {
    background-color: var(--espresso-base);
    accent-color: var(--background-primary);
}

/* Frontmatter */
.frontmatter-container,
.cm-hmd-frontmatter {
    background-color: var(--metadata-label-background);
    border-bottom: 1px dashed var(--background-modifier-border);
    color: var(--metadata-label-text-color);
}
.frontmatter-container .frontmatter-alias {
    color: var(--espresso-base);
}

/* Embeds */
.markdown-embed, .file-embed {
    border: 1px solid var(--background-modifier-border);
    background-color: var(--background-primary-alt);
}
.markdown-embed-title, .file-embed-title {
    border-bottom: 1px solid var(--background-modifier-border);
    color: var(--text-active);
}
.markdown-embed-link, .file-embed-link {
    color: var(--text-accent);
}

/* Tags */
a.tag, .cm-hashtag {
    background-color: var(--background-modifier-hover);
    color: var(--espresso-base);
    padding: 0.15em 0.4em;
    border-radius: 4px;
}

/* ========================================
UI COMPONENTS
======================================== */
/* Buttons */
button:not(.mod-cta, .mod-warning) {
    background-color: var(--interactive-normal);
    color: var(--text-on-accent);
    border-color: var(--background-modifier-border);
}
button:hover:not(.mod-cta, .mod-warning) {
    background-color: var(--interactive-hover);
    color: var(--text-on-accent);
}
button.mod-cta {
    background-color: var(--espresso-hover);
    color: var(--text-on-accent);
}
button.mod-warning {
    background-color: #c44536;
    color: white;
}

/* Form Elements */
input, textarea, .dropdown {
    background-color: var(--background-modifier-form-field);
    border-color: var(--background-modifier-border);
    color: var(--text-normal);
}
input:focus, textarea:focus {
    border-color: var(--background-modifier-border-focus);
    box-shadow: 0 0 0 2px rgba(201, 140, 104, 0.28);
}

/* Scrollbars */
::-webkit-scrollbar {
    background-color: var(--scrollbar-bg);
}
::-webkit-scrollbar-thumb {
    background-color: var(--scrollbar-thumb-bg);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background-color: var(--scrollbar-active-thumb-bg);
}

/* ========================================
SPECIAL VIEWS
======================================== */
/* Graph View */
.graph-view.color-fill {
    color: var(--text-muted);
}
.graph-view.color-fill-focused {
    color: #ffcc00;
}
.graph-view.color-fill-tag {
    color: #a87c5e;
}
.graph-view.color-fill-attachment {
    color: #4a7ba7;
}
.graph-view.color-fill-unresolved {
    color: var(--text-faint);
    opacity: 0.6;
}
.graph-view.color-arrow,
.graph-view.color-line {
    color: var(--background-modifier-border);
    opacity: 0.7;
}
.graph-view.color-circle,
.graph-view.color-text {
    color: var(--text-normal);
}
.graph-view.color-fill-highlight,
.graph-view.color-line-highlight {
    color: var(--interactive-accent);
    opacity: 1;
}

/* ========================================
CURSOR & ANIMATIONS
======================================== */
.cm-cursorLayer .cm-cursor {
    border-left: 1.2px solid var(--espresso-base);
    margin-left: -0.6px;
}
.cm-cursorLayer {
    animation-name: none;
}
@keyframes phase-blink {
    15% { opacity: 1; }
    50% { opacity: 0.2; }
    85% { opacity: 1; }
}
.cm-cursorLayer .cm-cursor {
    animation: phase-blink 2200ms steps(1) infinite;
}

/* ========================================
UTILITY OVERRIDES
======================================== */
/* Ensure vault name color consistency */
.workspace-ribbon .workspace-ribbon-collapse-btn,
.workspace-ribbon .workspace-ribbon-pin-btn {
    color: var(--espresso-base);
}

/* Fix sidebar plugin text contrast */
.mod-split .nav-file-title-content,
.mod-split .nav-folder-title-content {
    --text-normal: var(--text-muted);
}

/* ========================================
ACCENT PRESETS - Quick Theme Variations
======================================== */

/* üåø Forest Brown Preset */
body.mocha-forest {
    --espresso-base: #8a7b68 ;
    --espresso-hover: #6b5e4d ;
    --espresso-active: #e8e0d5 ;
    --espresso-border: #4a4035 ;
}

/* üîµ Midnight Blue Preset */
body.mocha-midnight {
    --espresso-base: #6b829a ;
    --espresso-hover: #52687d ;
    --espresso-active: #e6edf5 ;
    --espresso-border: #3d4e5e ;
}

/* üç∑ Burgundy Preset */
body.mocha-burgundy {
    --espresso-base: #9a586b ;
    --espresso-hover: #7d4458 ;
    --espresso-active: #f5e8ed ;
    --espresso-border: #5e3544 ;
}

/* üü§ Rich Walnut Preset */
body.mocha-walnut {
    --espresso-base: #a87c5e ;
    --espresso-hover: #8b6246 ;
    --espresso-active: #f0e8e0 ;
    --espresso-border: #6b4d35 ;
}

/* ========================================
VISUAL TOGGLES
======================================== */
/* Rounded Corners Toggle */
body.mocha-rounded-corners {
    --radius-s: 6px;
    --radius-m: 10px;
    --radius-l: 14px;
    --radius-xl: 18px;
}

/* Hide Status Bar Toggle */
body.mocha-hide-status-bar .status-bar {
    display: none ;
}

/* ========================================
   TRANSLUCENT MODALS - Works in Both Modes
   ======================================== */

/* Dark Mode */
body.mocha-translucent-modals.theme-dark .modal,
body.mocha-translucent-modals.theme-dark .prompt,
body.mocha-translucent-modals.theme-dark .menu {
  background-color: rgba(30, 20, 15, 0.92) ;
  backdrop-filter: blur(10px) ;
  border: 1px solid var(--background-modifier-border) ;
  color: var(--text-normal) ;
}

/* Light Mode - Lighter, more readable */
body.mocha-translucent-modals.theme-light .modal,
body.mocha-translucent-modals.theme-light .prompt,
body.mocha-translucent-modals.theme-light .menu {
  background-color: rgba(221, 204, 188, 0.884) ; /* Light cream */
  backdrop-filter: blur(8px) ;
  border: 1px solid var(--background-modifier-border) ;
  color: var(--text-normal) ;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08) ;
}

/* ========================================
DROPDOWN TEXT FIX - Light Mode Settings
======================================== */

/* Dropdown text in light mode settings */

/* Dropdown hover state */
.theme-light .modal .dropdown:hover {
    background-color: var(--cappuccino-hover) ;
}

/* Dropdown options text */
.theme-light .modal select option {
    color: var(--text-on-accent) ; /* Dark text for options */
    background-color: var(--cappuccino-base) ;
}

/* Style Settings dropdowns */
.theme-light .modal .style-settings-dropdown {
    color: var(--text-normal) ;
    background-color: var(--cappuccino-base) ;
}

.view-content .pixel-banner-image { z-index: var(--layer-sidedock) }

/* ========================================
BORDER TOGGLE - Disable All Borders
======================================== */

/* Border Toggle Variable */
:root {
    --border-toggle-enabled: 1px;  /* Default: borders ON */
    --border-toggle-disabled: 0px; /* Borders OFF */
}

/* Apply Border Toggle */
body.toggle-borders-off * {
    border-width: var(--border-toggle-disabled) !important;
}

/* Specific border elements to target */
body.toggle-borders-off .modal,
body.toggle-borders-off .prompt,
body.toggle-borders-off .menu,
body.toggle-borders-off .workspace-ribbon,
body.toggle-borders-off .workspace-tabs,
body.toggle-borders-off .status-bar,
body.toggle-borders-off button,
body.toggle-borders-off input,
body.toggle-borders-off textarea,
body.toggle-borders-off select,
body.toggle-borders-off .dropdown,
body.toggle-borders-off .nav-file-title,
body.toggle-borders-off .nav-folder-title,
body.toggle-borders-off .workspace-tab-header,
body.toggle-borders-off table,
body.toggle-borders-off th,
body.toggle-borders-off td,
body.toggle-borders-off blockquote,
body.toggle-borders-off pre {
    border-width: var(--border-toggle-disabled) !important;
}

/* Keep essential borders (scrollbars, etc.) */
body.toggle-borders-off ::-webkit-scrollbar-thumb {
    border: none !important;
}



/* ========================================
STYLE SETTINGS CONFIGURATION
======================================== */
/* @settings

name: ‚òï Mocha Latte Cafe 002
id: mocha-latte-cafe-002
settings:
  -
    id: mocha-colors-header
    title: üé® Colors
    type: heading
    level: 1
    collapsed: false
  -
    id: background-primary
    title: Primary Background Color
    description: Main background where you write (editor/preview area)
    type: variable-color
    format: hex
    default: '#2e1f16'
  -
    id: background-secondary
    title: Sidebar Background Color
    description: File explorer and side panels
    type: variable-color
    format: hex
    default: '#1a120d'
  -
    id: espresso-base
    title: Primary Accent Color
    description: Main coffee brown for links, highlights, and active states
    type: variable-color
    format: hex
    default: '#c98c68'
  -
    id: sidebar-bg-toggle
    title: Sidebar Background Image
    description: Enable base64 background in side panels
    type: class-toggle
    default: true
  -
    id: espresso-hover
    title: Hover Accent Color
    description: Color when hovering over interactive elements
    type: variable-color
    format: hex
    default: '#a16b4d'
  -
    id: espresso-active
    title: Active State Color
    description: Color for currently selected items
    type: variable-color
    format: hex
    default: '#f5e8dc'
  -
    id: text-normal
    title: Body Text Color
    description: Main readable text color
    type: variable-color
    format: hex
    default: '#e0d0c0'
  -
    id: mocha-fonts-header
    title: ‚úçÔ∏è Typography
    type: heading
    level: 1
    collapsed: true
  -
    id: font-size-normal
    title: Base Font Size
    description: Main text size (Ctrl+Scroll still works)
    type: variable-number-slider
    default: 16
    min: 12
    max: 24
    step: 0.5
    format: px
  -
    id: font-size-code
    title: Code Font Size
    type: variable-number-slider
    default: 15
    min: 10
    max: 20
    step: 0.5
    format: px
  -
    id: line-height-normal
    title: Line Height
    description: Spacing between lines (1.5 = 150%)
    type: variable-number-slider
    default: 1.5
    min: 1.0
    max: 2.5
    step: 0.1
    format: ''
  -
    id: mocha-visual-header
    title: üé≠ Visual Tweaks
    type: heading
    level: 1
    collapsed: true
  -
    id: mocha-rounded-corners
    title: Rounded Corners
    description: Soften edges on cards, buttons, and modals
    type: class-toggle
    default: true
  -
    id: mocha-translucent-modals
    title: Translucent Modals
    description: Semi-transparent settings windows
    type: class-toggle
    default: false
  -
    id: toggle-borders-off
    title: Hide All Borders
    description: Remove borders from buttons, modals, tables, and UI elements
    type: class-toggle
    default: false
  -
    id: mocha-hide-status-bar
    title: Hide Status Bar
    description: Clean minimalist look
    type: class-toggle
    default: false
  -
    id: mocha-accent-header
    title: üîß Accent Presets
    type: heading
    level: 1
    collapsed: true
  -
    id: mocha-accent-preset
    title: Quick Accent Preset
    description: Instantly change the theme's mood
    type: class-select
    allowEmpty: true
    default: mocha-walnut
    options:
      -
        label: 'None (Custom)'
        value: 'none'
      -
        label: 'üåø Forest Brown'
        value: 'mocha-forest'
      -
        label: 'üîµ Midnight Blue'
        value: 'mocha-midnight'
      -
        label: 'üç∑ Burgundy'
        value: 'mocha-burgundy'
      -
        label: 'üü§ Rich Walnut'
        value: 'mocha-walnut'
  -
    id: mocha-about-header
    title: ‚ÑπÔ∏è About Mocha Latte Cafe 002
    type: heading
    level: 1
    collapsed: true
  -
    id: mocha-theme-author
    title: 'Created by: DA Rasmussen'
    description: '‚òï A shot of darkness - deeper, richer, more intense'
    type: info-text
  -
    id: mocha-theme-license
    title: 'License: CC0-1.0'
    description: 'Free to use, modify, and share'
    type: info-text

*/